# do not modify directly - ansible managed
---
global:
  image:
     pullSecrets:
      - {{ docker.secret }}
  imagePullSecrets:
    - name: "{{ docker.secret }}"
  database:
    host: "{{ ansible_default_ipv4.address }}"
{% if postgres.database is defined %}
    name: "{{ postgres.database }}"
{% endif %}
{% if postgres.username is defined %}
    username: "{{ postgres.username }}"
{% endif %}
{% if postgres.password is defined %}
    password: "{{ postgres.password }}"
{% endif %}
{% if proxy is defined %}
{% if proxy.http is defined %}
  httpProxy: {{ proxy.http }}
{% endif %}
{% if proxy.http is defined %}
  httpsProxy: {{ proxy.https }}
{% endif %}
{% if proxy.dont_use_for is defined %}
  noProxy: "{{ proxy.dont_use_for | join(', ') }}"
{% endif %}
{% endif %}
{% if trustedCA_file is defined %}
  trusted:
    certificates: {{ lookup('ansible.builtin.file', trustedCA_file) | to_nice_json(indent=0) }}
{% endif %}
hostName: "{{ ansible_fqdn }}"
ingress:
  enabled: true
  certificate:
{% if (ingress is defined) and (ingress.certificate_file is defined) and (ingress.private_key_file is defined) %}
    source: external
{% else %}
    source: internal
{% endif %}
